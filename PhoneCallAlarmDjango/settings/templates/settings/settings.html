<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    {% load static %}
    <link type="text/css" rel="stylesheet" href='{% static "css/materialize.css" %}'  media="screen,projection"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href='{% static "css/settings-style.css" %}'>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body style="background-image: url({% static "bg.png" %});">
<br/>
<div class="site-content">
    <br/><h1 class="main-content">Settings</h1>

    <br/><h2 class="mid-heading">Last Beat</h2>
    <h3 id="last-beat"></h3>

    <br/><h2 class="mid-heading">Alarm Times</h2>

    <!-- Outer Alarm Times Div -->
    <div class="alarm-time-outer" id="outer-alarm-time">

        <div id="inner-alarm-time">
            <br/>
            <div class="progress" style="width: 25%;left: 37.5%;">
                <div class="indeterminate"></div>
            </div>
        </div>

        <!-- Add/Save buttons -->
        <br/>
        <a onclick="add_clicked()" class="btn-floating btn-large waves-effect waves-light blue-grey modal-trigger"  href="#edit-modal"><i style="color: black" class="material-icons">add</i></a>
        <div class="divider"></div>
        <a onclick="save_clicked()" class="btn-floating btn-large light-green" id="save"><i style="color: black" class="material-icons">save</i></a>


    </div>


    <!-- Edit Modal Structure -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <h3 id="edit-modal-title">Edit Alarm</h3>
            <br/>
            <form>
                <div class="row">
                    <div class="input-field col s6 offset-s3">
                        <i class="material-icons prefix">alarm</i>
                        <input id="edit-time" type="time" value="00:00" class="validate">
                        <label for="edit-time">Alarm Time</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s1-15ths offset-s4-15ths">
                        Mon<label><input id="Mon" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Tue<label><input id="Tue" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Wed<label><input id="Wed" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Thu<label><input id="Thu" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Fri<label><input id="Fri" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Sat<label><input id="Sat" type="checkbox" checked/><span></span></label>
                    </div>
                    <div class="col s1-15ths">
                        Sun<label><input id="Sun" type="checkbox" checked/><span></span></label>
                    </div>
                </div>
                <div class="row">
                    <a onclick="clear_all_checked()" class="col s2 offset-s3 waves-effect waves-purple btn" style="font-size: 12px;">Clear All</a>
                    <a onclick="set_all_checked()" class="col s2 offset-s2 waves-effect waves-purple btn" style="font-size: 12px;">Select All</a>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <a class="modal-close waves-effect waves-red btn-flat red-text">Cancel</a>
            <a onclick="confirm_edit(this)" class="modal-close waves-effect waves-green btn-flat" id="confirm-edit">Continue</a>
        </div>
    </div>

    <!-- Delete Modal Structure -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <br/><br/>
            <h3>Are you sure you want to delete this alarm?</h3>
        </div>
        <div class="modal-footer">
            <a class="modal-close waves-effect waves-red btn-flat red-text">Cancel</a>
            <a onclick="confirm_delete(this)" id="confirm-delete" class="modal-close waves-effect waves-green btn-flat">Continue</a>
        </div>
    </div>

    <br/><br/><h2 class="mid-heading">Full Heartbeat Logs</h2>
    <div class="row">
        <div class="col s10 offset-s1">
            <ul class="collapsible">
                <li>
                    <div class="collapsible-header">Logs</div>
                    <div class="collapsible-body" id="beat-collection">
                    </div>
                </li>
            </ul>
        </div>
    </div>


</div>

<script>
    // When the user clicks on div, open the popup
    function myFunction() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
    }
</script>

<!--JavaScript at end of body for optimized loading-->
<script type="text/javascript" src='{% static "js/materialize.js" %}'></script>
<script type="text/javascript" src='{% static "js/timeago.js" %}'></script>
<script type="text/javascript" src='{% static "js/alarms.js" %}'></script>
<script type="text/javascript" src='{% static "js/logs.js" %}'></script>
</body>
</html>